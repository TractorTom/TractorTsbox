<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="La fonction assert_date_ts vérifie qu'un objet est de type
AAAA, c(AAAA, MM) ou c(AAAA, TT)"><title>Vérifie le format de date — check_date_ts • TractorTsbox</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vérifie le format de date — check_date_ts"><meta property="og:description" content="La fonction assert_date_ts vérifie qu'un objet est de type
AAAA, c(AAAA, MM) ou c(AAAA, TT)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TractorTsbox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TractorTom/TractorTsbox/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Vérifie le format de date</h1>
      <small class="dont-index">Source: <a href="https://github.com/TractorTom/TractorTsbox/blob/HEAD/R/check.R" class="external-link"><code>R/check.R</code></a></small>
      <div class="d-none name"><code>check_date_ts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>La fonction <code>assert_date_ts</code> vérifie qu'un objet est de type
<code>AAAA</code>, <code>c(AAAA, MM)</code> ou <code>c(AAAA, TT)</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_date_ts</span><span class="op">(</span><span class="va">x</span>, <span class="va">frequency_ts</span>, .var.name <span class="op">=</span> <span class="fu">checkmate</span><span class="fu">::</span><span class="fu"><a href="https://mllg.github.io/checkmate/reference/vname.html" class="external-link">vname</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, warn <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">assert_date_ts</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">frequency_ts</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .var.name <span class="op">=</span> <span class="fu">checkmate</span><span class="fu">::</span><span class="fu"><a href="https://mllg.github.io/checkmate/reference/vname.html" class="external-link">vname</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>un vecteur numérique, de préférence <code>integer</code> au format <code>AAAA</code>,
<code>c(AAAA, MM)</code> ou <code>c(AAAA, TT)</code></p></dd>


<dt>frequency_ts</dt>
<dd><p>un entier qui vaut <code>4L</code> (ou <code>4.</code>) pour les séries
trimestrielles et <code>12L</code> (ou <code>12.</code>) pour les séries mensuelles.</p></dd>


<dt>.var.name</dt>
<dd><p>Nom de l'objet à vérifier pour afficher dans les messages</p></dd>


<dt>warn</dt>
<dd><p>un booleen</p></dd>


<dt>add</dt>
<dd><p>Collection pour stocker les messages d'erreurs (Default is NULL)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>En sortie la fonction retourne l'objet <code>x</code> de manière invisible ou
une erreur.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Les fonctions du package TractorTsbox sont faites pour fonctionner
avec des times-series de fréquence mensuelle ou trimestrielle et basés sur le
système des mois, trimestres et années classiques.
On cherche donc à favoriser l'utilisation de vecteur <code>c(AAAA, MM)</code> pour
désigner la date choisie.
Lorsque l'objet <code>x</code> en entrée est au mauvais format, il est corrigé pendant
la vérification et l'objet en sortie est au bon format.
Si l'argument <code>warn</code> est <code>FALSE</code>, alors la fonction ne retournera pas de
warning lors de l'évaluation.</p>
<p>Ici, l'argument <code>frequency_ts</code> est nécessaire car une date sous la forme
c(AAAA, PP), avec PP le nombre de période, ne désigne pas une date absolue.
Par exemple, c(2020L 5L) désigne mai 2020 pour une fréquence mensuelle et le
1er trimestre 2021 pour une fréquence trimestrielle.</p>
<p>Selon le préfixe de la fonction :</p><ul><li><p>si le check réussi :</p><ul><li><p>la fonction <code>assert_date_ts</code> retourne l'objet <code>x</code> de manière invisible;</p></li>
<li><p>la fonction <code>check_date_ts</code> retourne le booléen <code>TRUE</code>.</p></li>
</ul></li>
<li><p>si le check échoue :</p><ul><li><p>la fonction <code>assert_date_ts</code> retourne un message d'erreur;</p></li>
<li><p>la fonction <code>check_date_ts</code> retourne une chaîne de caractère signalant
le problème.</p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># De bons formats de date</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">8L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">2L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_date_ts</span><span class="op">(</span><span class="fl">2022L</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Format double --&gt; génération d'un warning</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020.</span>, <span class="fl">4.</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fl">2022.</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_date_ts</span><span class="op">(</span><span class="fl">2022.</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on '2022' failed: Must be of type 'integer', not 'double'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fréquence au format double --&gt; génération d'un warning</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">6L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">4.</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'frequency_ts' failed: Must be of type 'integer', not 'double'.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'period' failed: Element 1 is not &lt;= 4.</span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">42L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">12.</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'frequency_ts' failed: Must be of type 'integer', not 'double'.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'period' failed: Element 1 is not &lt;= 12.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dépassement la fréquence --&gt; génération d'un warning</span></span></span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">6L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'period' failed: Element 1 is not &lt;= 4.</span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="fl">42L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'period' failed: Element 1 is not &lt;= 12.</span>
<span class="r-in"><span><span class="fu">assert_date_ts</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020L</span>, <span class="op">-</span><span class="fl">4L</span><span class="op">)</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Assertion on 'period' failed: Element 1 is not &gt;= 1.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Avec des erreurs</span></span></span>
<span class="r-in"><span><span class="fu">check_date_ts</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, frequency_ts <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "* 1:10 Must have length &lt;= 2, but has length 10"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tanguy Barthelemy.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

